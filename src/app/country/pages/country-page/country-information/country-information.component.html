<div class="container mx-auto px-4 md:px-6 lg:px-8">
  <!-- STATS DE LA CIUDAD - Mejor centrado -->
  <section class="mx-auto mb-10 max-w-6xl">
    <!-- Cambiado para mejor organización responsiva -->
    <div class="flex flex-wrap justify-center">
      <!-- capital -->
      <div class="stat w-full sm:w-1/2 lg:w-1/4">
        <div class="stat-figure text-secondary">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            class="inline-block h-8 w-8 stroke-current"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
        </div>
        <div class="stat-title">Capital</div>
        <div class="stat-value">{{ country().capital }}</div>
        <div class="stat-desc">Jan 1st - Feb 1st</div>
      </div>

      <!-- area -->
      <div class="stat w-full sm:w-1/2 lg:w-1/4">
        <div class="stat-figure text-secondary">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            class="inline-block h-8 w-8 stroke-current"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
        </div>
        <div class="stat-title">Area</div>
        <div class="stat-value">
          @if ((country().area ?? 0) > 0) { @if ((country().area ?? 0) >=
          1000000) {
          {{ (country().area ?? 0) / 1000000 | number : "1.3-3" }} M } @else {
          {{ country().area | number : "1.0-0" }} K } } @else { No disponible }
        </div>
        <div class="stat-desc">Jan 1st - Feb 1st</div>
      </div>

      <!-- población -->
      <div class="stat w-full sm:w-1/2 lg:w-1/4">
        <div class="stat-figure text-secondary">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            class="inline-block h-8 w-8 stroke-current"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"
            ></path>
          </svg>
        </div>
        <div class="stat-title">Población</div>
        <div class="stat-value">
          {{ country().population / 1000000 | number : "1.1-1" }} M
        </div>
        <div class="stat-desc">↗︎ 400 (22%)</div>
      </div>

      <!-- continente -->
      <div class="stat w-full sm:w-1/2 lg:w-1/4">
        <div class="stat-figure text-secondary">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            class="inline-block h-8 w-8 stroke-current"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"
            ></path>
          </svg>
        </div>
        <div class="stat-title">Continente</div>
        <div class="stat-value">{{ country().continent }}</div>
        <div class="stat-desc">↘︎ 90 (14%)</div>
      </div>
    </div>
  </section>

  <!-- BANDERA DEL PAÍS MOVIBLE -->
  <section class="mx-10">
    <figure class="diff aspect-16/9" tabindex="0">
      <div class="diff-item-1" role="img" tabindex="0">
        <img [src]="country().flagSvg" [alt]="country().name" alt="Shoes" />
      </div>
      <div class="diff-item-2" role="img">
        <img [src]="country().escudo" />
      </div>
      <div class="diff-resizer"></div>
    </figure>
  </section>

  <!-- TEXTO DE DESCRIPCIÓN DEL PAÍS DESDE WIKIPEDIA -->
  <section class="mt-8">
    <div class="hero rounded-lg shadow-xl p-6">
      <div class="hero-content text-center">
        <!-- Estado de carga -->
        @if (wikiResource.isLoading()) {
        <div class="flex justify-center items-center w-full py-10">
          <span class="loading loading-spinner loading-lg text-primary"></span>
        </div>
        }
        <!-- Estado de error -->
        @else if (wikiResource.error()) {
        <div class="alert alert-error">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="stroke-current shrink-0 h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <span>No se pudo cargar la información de Wikipedia.</span>
        </div>
        }
        <!-- Datos cargados correctamente -->
        @else {
        <div class="w-full max-w-2xl mx-auto">
          <h1 class="text-3xl font-bold mb-4">
            {{ wikiResource.value()?.title }}
          </h1>
          <p class="py-4 text-justify">
            {{ wikiResource.value()?.resume }}
          </p>
          <a
            href="https://es.wikipedia.org/wiki/{{ country().name }}"
            target="_blank"
            class="btn btn-primary mt-2"
          >
            Ver más en Wikipedia
          </a>
        </div>
        }
      </div>
    </div>
  </section>
</div>
